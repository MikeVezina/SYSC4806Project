<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search for a User:</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/scripts/index.js"></script>

    <link rel="stylesheet" type="text/css" href="/stylesheets/index.css"/>
    <link rel="stylesheet" type="text/css" href="https:cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css"/>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="/scripts/dataTable.js"></script>
</head>


<!--/*@thymesVar id="loggedInUser" type="com.sysc4806.project.models.UserEntity"*/-->
<body>
<a th:href="${'/user'}"><input class="home_button" type="submit" value="Back to Account"/></a>
    <!-- Table of current Users -->
    <div th:if="${not #lists.isEmpty(userEntities)}">
        <h1>Top Users:</h1>
        <table id="userTable" class="dataTable">
            <thead>
                <tr>
                    <th>Name</th><th>Id</th><th>Number of Followers</th><th>Bacon Number</th><th>Jaccard Distance</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="userEntity : ${userEntities}">
                    <td><a th:href="${'/user/' + userEntity.id}" th:text="${userEntity.username}"/></td>
                    <td th:text="${userEntity.id}"></td>
                    <td th:text="${userEntity.followers.size()}"></td>
                    <td th:text="${loggedInUser.findBaconNumber(userEntity)}"></td>
                    <td th:text="${#numbers.formatDecimal(loggedInUser.calculateJaccardDistance(userEntity),0,2)}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
